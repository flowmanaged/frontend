<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analiza Biznesowa - Interaktywny Przewodnik</title>
    <meta name="description" content="Nowoczesna platforma do nauki analizy biznesowej">
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-8px);
        }
        
        .progress-ring {
            transition: stroke-dashoffset 0.5s ease;
        }

        .premium-badge {
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .auth-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .auth-modal-content {
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            font-weight: 500;
            z-index: 2000;
            animation: slideInRight 0.3s ease;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast-success {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .toast-error {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-indigo-900 via-purple-900 to-pink-900 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // ============================================
        // API Configuration
        // ============================================
        const API_BASE_URL = 'http://localhost:3000/api';

        // API Helper Functions
        const api = {
            // Rejestracja u≈ºytkownika
            register: async (email, password, name) => {
                const response = await fetch(`${API_BASE_URL}/auth/register`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    credentials: 'include',
                    body: JSON.stringify({ email, password, name }),
                });
                
                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.message || 'B≈ÇƒÖd rejestracji');
                }
                
                return response.json();
            },

            // Logowanie u≈ºytkownika
            login: async (email, password) => {
                const response = await fetch(`${API_BASE_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    credentials: 'include',
                    body: JSON.stringify({ email, password }),
                });
                
                if (!response.ok) {
                    const error = await response.json();
                    throw new Error(error.message || 'B≈ÇƒÖd logowania');
                }
                
                return response.json();
            },

            // Wylogowanie u≈ºytkownika
            logout: async () => {
                const response = await fetch(`${API_BASE_URL}/auth/logout`, {
                    method: 'POST',
                    credentials: 'include',
                });
                
                if (!response.ok) {
                    throw new Error('B≈ÇƒÖd wylogowania');
                }
                
                return response.json();
            },

            // Sprawdzenie sesji u≈ºytkownika
            checkSession: async () => {
                const response = await fetch(`${API_BASE_URL}/auth/me`, {
                    credentials: 'include',
                });
                
                if (!response.ok) {
                    return null;
                }
                
                return response.json();
            },

            // Sprawdzenie zdrowia API
            checkHealth: async () => {
                const response = await fetch(`${API_BASE_URL}/health`);
                return response.json();
            }
        };

        // Toast Notification Component
        const Toast = ({ message, type, onClose }) => {
            useEffect(() => {
                const timer = setTimeout(() => {
                    onClose();
                }, 3000);
                return () => clearTimeout(timer);
            }, [onClose]);

            return (
                <div className={`toast toast-${type}`}>
                    {message}
                </div>
            );
        };

        // Icon Components
        const BookOpen = ({ className }) => <i data-lucide="book-open" className={className}></i>;
        const Award = ({ className }) => <i data-lucide="award" className={className}></i>;
        const CheckCircle = ({ className }) => <i data-lucide="check-circle" className={className}></i>;
        const XCircle = ({ className }) => <i data-lucide="x-circle" className={className}></i>;
        const Home = ({ className }) => <i data-lucide="home" className={className}></i>;
        const Trophy = ({ className }) => <i data-lucide="trophy" className={className}></i>;
        const ArrowRight = ({ className }) => <i data-lucide="arrow-right" className={className}></i>;
        const Brain = ({ className }) => <i data-lucide="brain" className={className}></i>;
        const Zap = ({ className }) => <i data-lucide="zap" className={className}></i>;
        const Target = ({ className }) => <i data-lucide="target" className={className}></i>;
        const Lock = ({ className }) => <i data-lucide="lock" className={className}></i>;
        const Crown = ({ className }) => <i data-lucide="crown" className={className}></i>;
        const X = ({ className }) => <i data-lucide="x" className={className}></i>;
        const User = ({ className }) => <i data-lucide="user" className={className}></i>;
        const Mail = ({ className }) => <i data-lucide="mail" className={className}></i>;
        const LogOut = ({ className }) => <i data-lucide="log-out" className={className}></i>;

        const App = () => {
            const [currentView, setCurrentView] = useState('home');
            const [currentSection, setCurrentSection] = useState(0);
            const [quizAnswers, setQuizAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [completedSections, setCompletedSections] = useState(new Set());
            const [isPremium, setIsPremium] = useState(false);
            const [showPremiumModal, setShowPremiumModal] = useState(false);
            
            // Stany dla autoryzacji
            const [showAuthModal, setShowAuthModal] = useState(false);
            const [authView, setAuthView] = useState('login');
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [userEmail, setUserEmail] = useState('');
            const [userName, setUserName] = useState('');
            
            // Stany dla podstron informacyjnych
            const [showTermsPage, setShowTermsPage] = useState(false);
            const [showPrivacyPage, setShowPrivacyPage] = useState(false);

            // Toast state
            const [toast, setToast] = useState(null);

            // Loading state
            const [isLoading, setIsLoading] = useState(true);

            // Sprawdzenie sesji przy starcie aplikacji
            useEffect(() => {
                checkUserSession();
            }, []);

            const checkUserSession = async () => {
                try {
                    const userData = await api.checkSession();
                    if (userData && userData.user) {
                        setIsLoggedIn(true);
                        setUserEmail(userData.user.email);
                        setUserName(userData.user.name || '');
                        setIsPremium(userData.user.isPremium || false);
                    }
                } catch (error) {
                    console.log('Brak aktywnej sesji');
                } finally {
                    setIsLoading(false);
                }
            };

            const showToast = (message, type = 'success') => {
                setToast({ message, type });
            };

            const handleRegister = async (email, password, name) => {
                try {
                    const data = await api.register(email, password, name);
                    setIsLoggedIn(true);
                    setUserEmail(data.user.email);
                    setUserName(data.user.name || '');
                    setIsPremium(data.user.isPremium || false);
                    setShowAuthModal(false);
                    showToast('Rejestracja pomy≈õlna! Witaj! üéâ', 'success');
                } catch (error) {
                    showToast(error.message, 'error');
                    throw error;
                }
            };

            const handleLogin = async (email, password) => {
                try {
                    const data = await api.login(email, password);
                    setIsLoggedIn(true);
                    setUserEmail(data.user.email);
                    setUserName(data.user.name || '');
                    setIsPremium(data.user.isPremium || false);
                    setShowAuthModal(false);
                    showToast('Zalogowano pomy≈õlnie! üéâ', 'success');
                } catch (error) {
                    showToast(error.message, 'error');
                    throw error;
                }
            };

            const handleLogout = async () => {
                try {
                    await api.logout();
                    setIsLoggedIn(false);
                    setUserEmail('');
                    setUserName('');
                    setIsPremium(false);
                    setCurrentView('home');
                    showToast('Wylogowano pomy≈õlnie!', 'success');
                } catch (error) {
                    showToast('B≈ÇƒÖd podczas wylogowania', 'error');
                }
            };

            React.useEffect(() => {
                lucide.createIcons();
            });

            const sections = [
                // Dodaj tutaj ca≈ÇƒÖ zawarto≈õƒá sections z oryginalnego pliku
                {
                    id: 1,
                    title: "Wprowadzenie do Analizy Biznesowej",
                    icon: "üìä",
                    isPremium: false,
                    content: `
                        <h2>Czym jest analiza biznesowa?</h2>
                        <p>Analiza biznesowa to kluczowa dziedzina, kt√≥ra pomaga organizacjom identyfikowaƒá problemy biznesowe i znajdowaƒá rozwiƒÖzania poprzez badanie proces√≥w, danych i wymaga≈Ñ.</p>
                        
                        <h3>Kluczowe obszary</h3>
                        <ul>
                            <li>Identyfikacja potrzeb biznesowych</li>
                            <li>Analiza proces√≥w</li>
                            <li>Zbieranie wymaga≈Ñ</li>
                            <li>Projektowanie rozwiƒÖza≈Ñ</li>
                        </ul>
                    `
                },
                {
                    id: 2,
                    title: "Role i Odpowiedzialno≈õci",
                    icon: "üëî",
                    isPremium: false,
                    content: `
                        <h2>Rola Analityka Biznesowego</h2>
                        <p>Analityk biznesowy to most miƒôdzy biznesem a IT, odpowiedzialny za przek≈Çadanie potrzeb biznesowych na wymagania techniczne.</p>
                        
                        <h3>G≈Ç√≥wne obowiƒÖzki</h3>
                        <ul>
                            <li>Prowadzenie wywiad√≥w z interesariuszami</li>
                            <li>Dokumentacja wymaga≈Ñ</li>
                            <li>Analiza proces√≥w biznesowych</li>
                            <li>Tworzenie dokumentacji technicznej</li>
                        </ul>
                    `
                },
                {
                    id: 3,
                    title: "Metody Zbierania Wymaga≈Ñ (Premium)",
                    icon: "üéØ",
                    isPremium: true,
                    content: `
                        <h2>Zaawansowane Techniki Zbierania Wymaga≈Ñ</h2>
                        <p>Poznaj profesjonalne metody wykorzystywane przez do≈õwiadczonych analityk√≥w.</p>
                        
                        <h3>Techniki wywiad√≥w</h3>
                        <ul>
                            <li>Wywiady strukturyzowane i nieustrukturyzowane</li>
                            <li>Techniki aktywnego s≈Çuchania</li>
                            <li>Pytania otwarte vs zamkniƒôte</li>
                        </ul>
                        
                        <h3>Warsztaty</h3>
                        <ul>
                            <li>Facilitation techniques</li>
                            <li>Design thinking workshops</li>
                            <li>User story mapping</li>
                        </ul>
                    `
                }
            ];

            const quizQuestions = [
                {
                    id: 1,
                    question: "Co jest g≈Ç√≥wnym celem analizy biznesowej?",
                    options: [
                        "Pisanie kodu",
                        "Identyfikacja problem√≥w biznesowych i znajdowanie rozwiƒÖza≈Ñ",
                        "ZarzƒÖdzanie zespo≈Çem",
                        "Testowanie oprogramowania"
                    ],
                    correct: 1,
                    isPremium: false
                },
                {
                    id: 2,
                    question: "Kt√≥ra z poni≈ºszych nie jest odpowiedzialno≈õciƒÖ analityka biznesowego?",
                    options: [
                        "Zbieranie wymaga≈Ñ",
                        "Dokumentacja proces√≥w",
                        "Pisanie kodu produkcyjnego",
                        "Prowadzenie wywiad√≥w"
                    ],
                    correct: 2,
                    isPremium: false
                },
                {
                    id: 3,
                    question: "Kt√≥ra metoda jest najbardziej efektywna przy zbieraniu wymaga≈Ñ od wielu interesariuszy jednocze≈õnie?",
                    options: [
                        "Email",
                        "Warsztaty grupowe",
                        "Ankiety online",
                        "Dokumenty projektowe"
                    ],
                    correct: 1,
                    isPremium: true
                }
            ];

            // Auth Modal Component
            const AuthModal = () => {
                const [email, setEmail] = useState('');
                const [password, setPassword] = useState('');
                const [name, setName] = useState('');
                const [confirmPassword, setConfirmPassword] = useState('');
                const [error, setError] = useState('');
                const [loading, setLoading] = useState(false);

                const handleSubmit = async (e) => {
                    e.preventDefault();
                    setError('');
                    setLoading(true);

                    try {
                        if (authView === 'register') {
                            if (password !== confirmPassword) {
                                setError('Has≈Ça nie sƒÖ identyczne');
                                setLoading(false);
                                return;
                            }
                            if (password.length < 6) {
                                setError('Has≈Ço musi mieƒá minimum 6 znak√≥w');
                                setLoading(false);
                                return;
                            }
                            await handleRegister(email, password, name);
                        } else {
                            await handleLogin(email, password);
                        }
                    } catch (err) {
                        setError(err.message);
                    } finally {
                        setLoading(false);
                    }
                };

                return (
                    <div className="auth-modal-overlay" onClick={() => setShowAuthModal(false)}>
                        <div className="auth-modal-content w-full max-w-md mx-4" onClick={(e) => e.stopPropagation()}>
                            <div className="glass rounded-3xl p-8">
                                <div className="flex justify-between items-center mb-6">
                                    <h2 className="text-2xl font-bold text-white">
                                        {authView === 'login' ? 'Zaloguj siƒô' : 'Zarejestruj siƒô'}
                                    </h2>
                                    <button
                                        onClick={() => setShowAuthModal(false)}
                                        className="text-white/60 hover:text-white transition-colors"
                                    >
                                        <X className="w-6 h-6" />
                                    </button>
                                </div>

                                {error && (
                                    <div className="mb-4 p-3 bg-red-500/20 border border-red-500 rounded-lg text-red-200 text-sm">
                                        {error}
                                    </div>
                                )}

                                <form onSubmit={handleSubmit} className="space-y-4">
                                    {authView === 'register' && (
                                        <div>
                                            <label className="block text-white/80 mb-2 text-sm">Imiƒô</label>
                                            <div className="relative">
                                                <User className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40" />
                                                <input
                                                    type="text"
                                                    value={name}
                                                    onChange={(e) => setName(e.target.value)}
                                                    required
                                                    className="w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-purple-500"
                                                    placeholder="Twoje imiƒô"
                                                />
                                            </div>
                                        </div>
                                    )}

                                    <div>
                                        <label className="block text-white/80 mb-2 text-sm">Email</label>
                                        <div className="relative">
                                            <Mail className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40" />
                                            <input
                                                type="email"
                                                value={email}
                                                onChange={(e) => setEmail(e.target.value)}
                                                required
                                                className="w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-purple-500"
                                                placeholder="twoj@email.com"
                                            />
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-white/80 mb-2 text-sm">Has≈Ço</label>
                                        <div className="relative">
                                            <Lock className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40" />
                                            <input
                                                type="password"
                                                value={password}
                                                onChange={(e) => setPassword(e.target.value)}
                                                required
                                                className="w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-purple-500"
                                                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                            />
                                        </div>
                                    </div>

                                    {authView === 'register' && (
                                        <div>
                                            <label className="block text-white/80 mb-2 text-sm">Potwierd≈∫ has≈Ço</label>
                                            <div className="relative">
                                                <Lock className="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-white/40" />
                                                <input
                                                    type="password"
                                                    value={confirmPassword}
                                                    onChange={(e) => setConfirmPassword(e.target.value)}
                                                    required
                                                    className="w-full pl-12 pr-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-purple-500"
                                                    placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                                                />
                                            </div>
                                        </div>
                                    )}

                                    <button
                                        type="submit"
                                        disabled={loading}
                                        className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 rounded-xl hover:shadow-lg transition-all disabled:opacity-50"
                                    >
                                        {loading ? 'Przetwarzanie...' : (authView === 'login' ? 'Zaloguj siƒô' : 'Zarejestruj siƒô')}
                                    </button>
                                </form>

                                <div className="mt-6 text-center">
                                    <button
                                        onClick={() => {
                                            setAuthView(authView === 'login' ? 'register' : 'login');
                                            setError('');
                                        }}
                                        className="text-white/60 hover:text-white transition-colors text-sm"
                                    >
                                        {authView === 'login' 
                                            ? 'Nie masz konta? Zarejestruj siƒô' 
                                            : 'Masz ju≈º konto? Zaloguj siƒô'}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            };

            // Premium Modal Component
            const PremiumModal = () => (
                <div className="auth-modal-overlay" onClick={() => setShowPremiumModal(false)}>
                    <div className="auth-modal-content w-full max-w-2xl mx-4" onClick={(e) => e.stopPropagation()}>
                        <div className="glass rounded-3xl p-8 relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-yellow-400/20 to-orange-500/20 rounded-full blur-3xl"></div>
                            
                            <div className="relative">
                                <div className="flex justify-between items-start mb-6">
                                    <div className="flex items-center gap-3">
                                        <div className="w-12 h-12 rounded-2xl bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center">
                                            <Crown className="w-6 h-6 text-white" />
                                        </div>
                                        <div>
                                            <h2 className="text-2xl font-bold text-white">Akademia Premium</h2>
                                            <p className="text-white/60 text-sm">Odblokuj pe≈Çen potencja≈Ç</p>
                                        </div>
                                    </div>
                                    <button
                                        onClick={() => setShowPremiumModal(false)}
                                        className="text-white/60 hover:text-white transition-colors"
                                    >
                                        <X className="w-6 h-6" />
                                    </button>
                                </div>

                                <div className="space-y-4 mb-8">
                                    <div className="flex items-start gap-3 p-4 bg-white/5 rounded-xl">
                                        <CheckCircle className="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" />
                                        <div>
                                            <h3 className="text-white font-semibold mb-1">Zaawansowane Sekcje</h3>
                                            <p className="text-white/70 text-sm">Dostƒôp do ekskluzywnych tre≈õci dla profesjonalist√≥w</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3 p-4 bg-white/5 rounded-xl">
                                        <CheckCircle className="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" />
                                        <div>
                                            <h3 className="text-white font-semibold mb-1">Rozszerzone Quizy</h3>
                                            <p className="text-white/70 text-sm">Dodatkowe pytania testujƒÖce zaawansowanƒÖ wiedzƒô</p>
                                        </div>
                                    </div>
                                    <div className="flex items-start gap-3 p-4 bg-white/5 rounded-xl">
                                        <CheckCircle className="w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5" />
                                        <div>
                                            <h3 className="text-white font-semibold mb-1">Certyfikaty</h3>
                                            <p className="text-white/70 text-sm">Otrzymuj certyfikaty po uko≈Ñczeniu modu≈Ç√≥w</p>
                                        </div>
                                    </div>
                                </div>

                                <div className="text-center">
                                    <div className="text-4xl font-bold text-white mb-2">99 PLN</div>
                                    <p className="text-white/60 mb-6">Jednorazowa p≈Çatno≈õƒá, do≈ºywotni dostƒôp</p>
                                    <button className="w-full bg-gradient-to-r from-yellow-400 to-orange-500 text-white font-bold py-4 rounded-xl hover:shadow-2xl transition-all text-lg">
                                        üöÄ Odblokuj Premium
                                    </button>
                                    <p className="text-white/40 text-xs mt-4">30-dniowa gwarancja zwrotu pieniƒôdzy</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Footer Component
            const Footer = () => (
                <div className="mt-12 pt-8 border-t border-white/10">
                    <div className="flex flex-wrap justify-center gap-6 text-sm text-white/60">
                        <button onClick={() => setShowTermsPage(true)} className="hover:text-white transition-colors">
                            Regulamin
                        </button>
                        <button onClick={() => setShowPrivacyPage(true)} className="hover:text-white transition-colors">
                            Polityka Prywatno≈õci
                        </button>
                        <span>¬© 2024 Akademia Analizy Biznesowej</span>
                    </div>
                </div>
            );

            // Terms Page
            const TermsPage = () => (
                <div className="min-h-screen p-8">
                    <div className="max-w-4xl mx-auto">
                        <button
                            onClick={() => setShowTermsPage(false)}
                            className="mb-6 text-white/80 hover:text-white flex items-center gap-2"
                        >
                            ‚Üê Powr√≥t
                        </button>
                        <div className="glass rounded-3xl p-8">
                            <h1 className="text-3xl font-bold text-white mb-6">Regulamin</h1>
                            <div className="text-white/80 space-y-4">
                                <p>Regulamin platformy edukacyjnej Akademia Analizy Biznesowej...</p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            // Privacy Page
            const PrivacyPage = () => (
                <div className="min-h-screen p-8">
                    <div className="max-w-4xl mx-auto">
                        <button
                            onClick={() => setShowPrivacyPage(false)}
                            className="mb-6 text-white/80 hover:text-white flex items-center gap-2"
                        >
                            ‚Üê Powr√≥t
                        </button>
                        <div className="glass rounded-3xl p-8">
                            <h1 className="text-3xl font-bold text-white mb-6">Polityka Prywatno≈õci</h1>
                            <div className="text-white/80 space-y-4">
                                <p>Polityka prywatno≈õci platformy edukacyjnej...</p>
                            </div>
                        </div>
                    </div>
                );

            // HomePage Component
            const HomePage = () => (
                <div className="min-h-screen p-4 md:p-8">
                    <div className="max-w-7xl mx-auto">
                        {/* Header with user info */}
                        <div className="flex justify-between items-center mb-8">
                            <div className="flex items-center gap-3">
                                <div className="w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                                    <Brain className="w-6 h-6 text-white" />
                                </div>
                                <div>
                                    <h1 className="text-2xl font-bold text-white">Akademia Analizy</h1>
                                    {isPremium && (
                                        <div className="flex items-center gap-1">
                                            <Crown className="w-4 h-4 text-yellow-400" />
                                            <span className="text-yellow-400 text-sm font-semibold">Premium</span>
                                        </div>
                                    )}
                                </div>
                            </div>
                            
                            <div className="flex items-center gap-3">
                                {isLoggedIn ? (
                                    <>
                                        <div className="glass px-4 py-2 rounded-xl">
                                            <span className="text-white/80 text-sm">{userName || userEmail}</span>
                                        </div>
                                        <button
                                            onClick={handleLogout}
                                            className="glass p-3 rounded-xl hover:bg-white/20 transition-all"
                                            title="Wyloguj"
                                        >
                                            <LogOut className="w-5 h-5 text-white" />
                                        </button>
                                    </>
                                ) : (
                                    <button
                                        onClick={() => setShowAuthModal(true)}
                                        className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all"
                                    >
                                        Zaloguj siƒô
                                    </button>
                                )}
                            </div>
                        </div>

                        {/* Hero Section */}
                        <div className="glass rounded-3xl p-8 md:p-12 mb-8 relative overflow-hidden">
                            <div className="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-500/30 to-pink-500/30 rounded-full blur-3xl"></div>
                            <div className="relative z-10">
                                <h2 className="text-4xl md:text-5xl font-bold text-white mb-4">
                                    Zosta≈Ñ Ekspertem <br />
                                    <span className="gradient-text">Analizy Biznesowej</span>
                                </h2>
                                <p className="text-white/80 text-lg mb-6 max-w-2xl">
                                    Interaktywna platforma edukacyjna, kt√≥ra poprowadzi Ciƒô przez wszystkie aspekty 
                                    analizy biznesowej - od podstaw do zaawansowanych technik.
                                </p>
                                <div className="flex flex-wrap gap-4">
                                    <button
                                        onClick={() => {
                                            if (!isLoggedIn) {
                                                setShowAuthModal(true);
                                            } else {
                                                setCurrentView('sections');
                                            }
                                        }}
                                        className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-2xl font-bold text-lg hover:shadow-2xl transition-all flex items-center gap-2"
                                    >
                                        <Zap className="w-5 h-5" />
                                        Rozpocznij Naukƒô
                                    </button>
                                    {!isPremium && (
                                        <button
                                            onClick={() => setShowPremiumModal(true)}
                                            className="glass px-8 py-4 rounded-2xl font-bold text-lg text-white hover:bg-white/20 transition-all flex items-center gap-2"
                                        >
                                            <Crown className="w-5 h-5 text-yellow-400" />
                                            Zobacz Premium
                                        </button>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Stats Grid */}
                        <div className="grid md:grid-cols-3 gap-6 mb-8">
                            <div className="glass rounded-2xl p-6 card-hover">
                                <div className="flex items-center gap-3 mb-3">
                                    <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center">
                                        <BookOpen className="w-6 h-6 text-white" />
                                    </div>
                                    <div>
                                        <div className="text-2xl font-bold text-white">
                                            {isPremium ? sections.length : sections.filter(s => !s.isPremium).length}
                                        </div>
                                        <div className="text-white/60 text-sm">Sekcji</div>
                                    </div>
                                </div>
                                <p className="text-white/70 text-sm">
                                    Kompleksowy materia≈Ç edukacyjny
                                </p>
                            </div>

                            <div className="glass rounded-2xl p-6 card-hover">
                                <div className="flex items-center gap-3 mb-3">
                                    <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                                        <Target className="w-6 h-6 text-white" />
                                    </div>
                                    <div>
                                        <div className="text-2xl font-bold text-white">
                                            {isPremium ? quizQuestions.length : quizQuestions.filter(q => !q.isPremium).length}
                                        </div>
                                        <div className="text-white/60 text-sm">Pyta≈Ñ Quizowych</div>
                                    </div>
                                </div>
                                <p className="text-white/70 text-sm">
                                    Sprawd≈∫ swojƒÖ wiedzƒô
                                </p>
                            </div>

                            <div className="glass rounded-2xl p-6 card-hover">
                                <div className="flex items-center gap-3 mb-3">
                                    <div className="w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-500 flex items-center justify-center">
                                        <Award className="w-6 h-6 text-white" />
                                    </div>
                                    <div>
                                        <div className="text-2xl font-bold text-white">
                                            {completedSections.size}
                                        </div>
                                        <div className="text-white/60 text-sm">Uko≈Ñczonych</div>
                                    </div>
                                </div>
                                <p className="text-white/70 text-sm">
                                    Tw√≥j postƒôp w nauce
                                </p>
                            </div>
                        </div>

                        <Footer />
                    </div>
                </div>
            );

            // SectionsView Component
            const SectionsView = () => {
                const availableSections = isPremium ? sections : sections.filter(function(s) { return !s.isPremium; });

                return (
                    <div className="min-h-screen p-4 md:p-8">
                        <div className="max-w-7xl mx-auto">
                            {/* Navigation */}
                            <div className="flex items-center justify-between mb-8">
                                <button
                                    onClick={() => setCurrentView('home')}
                                    className="glass px-4 py-2 rounded-xl text-white hover:bg-white/20 transition-all flex items-center gap-2"
                                >
                                    <Home className="w-4 h-4" />
                                    Strona G≈Ç√≥wna
                                </button>
                                <button
                                    onClick={() => setCurrentView('quiz')}
                                    className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center gap-2"
                                >
                                    <Trophy className="w-5 h-5" />
                                    Quiz
                                </button>
                            </div>

                            {/* Sections Grid */}
                            <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                                {sections.map((section, index) => {
                                    const isLocked = section.isPremium && !isPremium;
                                    const isCompleted = completedSections.has(section.id);

                                    return (
                                        <div
                                            key={section.id}
                                            className={`glass rounded-2xl p-6 card-hover ${isLocked ? 'opacity-75' : 'cursor-pointer'}`}
                                            onClick={() => {
                                                if (isLocked) {
                                                    setShowPremiumModal(true);
                                                } else {
                                                    setCurrentSection(index);
                                                    setCurrentView('section-detail');
                                                }
                                            }}
                                        >
                                            <div className="flex items-start justify-between mb-4">
                                                <div className="text-4xl">{section.icon}</div>
                                                {isLocked && (
                                                    <div className="premium-badge px-3 py-1 rounded-full flex items-center gap-1">
                                                        <Lock className="w-3 h-3 text-white" />
                                                        <span className="text-white text-xs font-bold">Premium</span>
                                                    </div>
                                                )}
                                                {isCompleted && !isLocked && (
                                                    <CheckCircle className="w-6 h-6 text-emerald-400" />
                                                )}
                                            </div>
                                            <h3 className="text-xl font-bold text-white mb-2">{section.title}</h3>
                                            <p className="text-white/60 text-sm mb-4">
                                                {isLocked ? 'Dostƒôpne w wersji Premium' : 'Kliknij aby rozpoczƒÖƒá'}
                                            </p>
                                            <div className="flex items-center gap-2">
                                                {!isLocked && (
                                                    <button className="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-lg text-sm font-semibold hover:shadow-lg transition-all flex items-center gap-2">
                                                        Rozpocznij
                                                        <ArrowRight className="w-4 h-4" />
                                                    </button>
                                                )}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>

                            <Footer />
                        </div>
                    </div>
                );
            };

            // Section Detail View
            if (currentView === 'section-detail') {
                const section = sections[currentSection];

                return (
                    <div className="min-h-screen p-4 md:p-8">
                        <div className="max-w-4xl mx-auto">
                            <div className="flex items-center justify-between mb-8">
                                <button
                                    onClick={() => setCurrentView('sections')}
                                    className="glass px-4 py-2 rounded-xl text-white hover:bg-white/20 transition-all"
                                >
                                    ‚Üê Powr√≥t
                                </button>
                                <div className="flex gap-2">
                                    <button
                                        onClick={() => {
                                            if (currentSection > 0) {
                                                setCurrentSection(currentSection - 1);
                                            }
                                        }}
                                        disabled={currentSection === 0}
                                        className="glass px-4 py-2 rounded-xl text-white hover:bg-white/20 transition-all disabled:opacity-50"
                                    >
                                        ‚Üê Poprzednia
                                    </button>
                                    <button
                                        onClick={() => {
                                            if (currentSection < sections.length - 1) {
                                                setCurrentSection(currentSection + 1);
                                            }
                                        }}
                                        disabled={currentSection === sections.length - 1}
                                        className="glass px-4 py-2 rounded-xl text-white hover:bg-white/20 transition-all disabled:opacity-50"
                                    >
                                        Nastƒôpna ‚Üí
                                    </button>
                                </div>
                            </div>

                            <div className="glass rounded-3xl p-8 mb-6">
                                <div className="flex items-center gap-4 mb-6">
                                    <div className="text-5xl">{section.icon}</div>
                                    <div>
                                        <h1 className="text-3xl font-bold text-white">{section.title}</h1>
                                        <p className="text-white/60">Sekcja {section.id} z {sections.length}</p>
                                    </div>
                                </div>

                                <div
                                    className="text-white/90 prose prose-invert max-w-none"
                                    dangerouslySetInnerHTML={{ __html: section.content }}
                                />

                                <div className="mt-8 flex gap-4">
                                    <button
                                        onClick={() => {
                                            setCompletedSections(new Set([...completedSections, section.id]));
                                            showToast('Sekcja uko≈Ñczona! üéâ', 'success');
                                        }}
                                        disabled={completedSections.has(section.id)}
                                        className="bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 flex items-center gap-2"
                                    >
                                        <CheckCircle className="w-5 h-5" />
                                        {completedSections.has(section.id) ? 'Uko≈Ñczone' : 'Oznacz jako uko≈Ñczone'}
                                    </button>
                                </div>
                            </div>

                            <Footer />
                        </div>
                    </div>
                );
            }

            // QuizView Component
            const QuizView = () => {
                const availableQuestions = isPremium ? quizQuestions : quizQuestions.filter(function(q) { return !q.isPremium; });
                const score = Object.entries(quizAnswers).filter(([id, answer]) => {
                    const question = quizQuestions.find(q => q.id === parseInt(id));
                    return question && answer === question.correct;
                }).length;

                const percentage = (score / availableQuestions.length) * 100;
                const scoreData = {
                    level: percentage >= 90 ? 'Ekspert' : percentage >= 75 ? 'Bardzo Dobry' : percentage >= 60 ? 'Dobry' : 'Do Poprawy',
                    bg: percentage >= 90 ? 'from-emerald-500 to-teal-500' : 
                        percentage >= 75 ? 'from-blue-500 to-cyan-500' : 
                        percentage >= 60 ? 'from-purple-500 to-pink-500' : 'from-orange-500 to-red-500'
                };

                return (
                    <div className="min-h-screen p-4 md:p-8">
                        <div className="max-w-4xl mx-auto">
                            <div className="flex items-center justify-between mb-8">
                                <button
                                    onClick={() => setCurrentView('home')}
                                    className="glass px-4 py-2 rounded-xl text-white hover:bg-white/20 transition-all flex items-center gap-2"
                                >
                                    <Home className="w-4 h-4" />
                                    Strona G≈Ç√≥wna
                                </button>
                            </div>

                            <div className="glass rounded-3xl p-8 mb-8">
                                <div className="flex items-center gap-4 mb-6">
                                    <div className="w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                                        <Trophy className="w-8 h-8 text-white" />
                                    </div>
                                    <div>
                                        <h1 className="text-3xl font-bold text-white">Quiz Ko≈Ñcowy</h1>
                                        <p className="text-white/60">Sprawd≈∫ swojƒÖ wiedzƒô</p>
                                    </div>
                                </div>

                                {!showResults ? (
                                    <div className="space-y-6">
                                        {availableQuestions.map((q, index) => (
                                            <div key={q.id} className="glass rounded-2xl p-6">
                                                <h3 className="text-lg font-semibold text-white mb-4">
                                                    {index + 1}. {q.question}
                                                </h3>
                                                <div className="space-y-3">
                                                    {q.options.map((option, optIndex) => (
                                                        <button
                                                            key={optIndex}
                                                            onClick={() => setQuizAnswers({...quizAnswers, [q.id]: optIndex})}
                                                            className={`w-full text-left p-4 rounded-xl transition-all ${
                                                                quizAnswers[q.id] === optIndex
                                                                    ? 'bg-gradient-to-r from-purple-500 to-pink-500 text-white'
                                                                    : 'bg-white/5 text-white/80 hover:bg-white/10'
                                                            }`}
                                                        >
                                                            {option}
                                                        </button>
                                                    ))}
                                                </div>
                                            </div>
                                        ))}
                                        <button
                                            onClick={() => setShowResults(true)}
                                            disabled={Object.keys(quizAnswers).length < availableQuestions.length}
                                            className="w-full bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-base py-4 rounded-2xl hover:shadow-2xl disabled:opacity-50 disabled:cursor-not-allowed transition-all"
                                        >
                                            {Object.keys(quizAnswers).length < availableQuestions.length
                                                ? `Odpowiedz na wszystkie pytania (${Object.keys(quizAnswers).length}/${availableQuestions.length})`
                                                : 'Zobacz wyniki üéØ'}
                                        </button>
                                    </div>
                                ) : (
                                    <div className="space-y-4">
                                        <div className={`glass rounded-2xl p-8 text-center`}>
                                            <div className={`inline-block w-16 h-16 rounded-full bg-gradient-to-br ${scoreData.bg} flex items-center justify-center mb-4`}>
                                                <Trophy className="w-8 h-8 text-white" />
                                            </div>
                                            <h2 className="text-3xl font-bold text-white mb-3">Tw√≥j wynik</h2>
                                            <div className="text-5xl font-bold text-white mb-3">
                                                {score}/{availableQuestions.length}
                                            </div>
                                            <div className={`inline-block px-4 py-2 rounded-full bg-gradient-to-r ${scoreData.bg} text-white text-base font-bold mb-3`}>
                                                {scoreData.level}
                                            </div>
                                            <p className="text-white/70 text-sm max-w-md mx-auto">
                                                {score >= availableQuestions.length * 0.9 && "Niesamowite! Jeste≈õ prawdziwym ekspertem! üåü"}
                                                {score >= availableQuestions.length * 0.75 && score < availableQuestions.length * 0.9 && "≈öwietna robota! Masz solidnƒÖ wiedzƒô! üöÄ"}
                                                {score >= availableQuestions.length * 0.6 && score < availableQuestions.length * 0.75 && "Dobry wynik! Jeszcze trochƒô nauki! üìö"}
                                                {score < availableQuestions.length * 0.6 && "Spr√≥buj ponownie po powt√≥rce materia≈Çu! üí™"}
                                            </p>
                                            {!isPremium && (
                                                <button 
                                                    onClick={() => setShowPremiumModal(true)}
                                                    className="mt-4 px-6 py-2 bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-xl font-medium text-sm hover:shadow-lg transition-all"
                                                >
                                                    üîì Odblokuj +{quizQuestions.filter(q => q.isPremium).length} pyta≈Ñ Premium
                                                </button>
                                            )}
                                        </div>

                                        {availableQuestions.map((q, index) => {
                                            const userAnswer = quizAnswers[q.id];
                                            const isCorrect = userAnswer === q.correct;
                                            return (
                                                <div key={q.id} className={`glass rounded-2xl p-6 border-l-4 ${
                                                    isCorrect ? 'border-emerald-500' : 'border-red-500'
                                                }`}>
                                                    <div className="flex items-start gap-3 mb-4">
                                                        {isCorrect ? (
                                                            <CheckCircle className="w-6 h-6 text-emerald-400 flex-shrink-0" />
                                                        ) : (
                                                            <XCircle className="w-6 h-6 text-red-400 flex-shrink-0" />
                                                        )}
                                                        <div className="flex-1">
                                                            <h3 className="text-base font-semibold text-white mb-3">
                                                                Pytanie {index + 1}: {q.question}
                                                            </h3>
                                                            <div className="space-y-2">
                                                                {q.options.map((option, optIndex) => (
                                                                    <div
                                                                        key={optIndex}
                                                                        className={`p-3 rounded-lg text-sm ${
                                                                            optIndex === q.correct
                                                                                ? 'bg-emerald-500/20 border-2 border-emerald-500'
                                                                                : optIndex === userAnswer && !isCorrect
                                                                                ? 'bg-red-500/20 border-2 border-red-500'
                                                                                : 'bg-white/5'
                                                                        }`}
                                                                    >
                                                                        <span className="text-white/90">{option}</span>
                                                                        {optIndex === q.correct && (
                                                                            <span className="ml-2 text-emerald-400 font-semibold text-xs">‚úì Prawid≈Çowa</span>
                                                                        )}
                                                                        {optIndex === userAnswer && !isCorrect && (
                                                                            <span className="ml-2 text-red-400 font-semibold text-xs">‚úó Twoja odpowied≈∫</span>
                                                                        )}
                                                                    </div>
                                                                ))}
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}

                                        <div className="grid md:grid-cols-2 gap-4">
                                            <button
                                                onClick={() => {
                                                    setQuizAnswers({});
                                                    setShowResults(false);
                                                    window.scrollTo(0, 0);
                                                }}
                                                className="bg-gradient-to-r from-cyan-500 to-blue-500 text-white font-bold text-base py-4 rounded-2xl hover:shadow-2xl transition-all"
                                            >
                                                üîÑ Spr√≥buj ponownie
                                            </button>
                                            <button
                                                onClick={() => setCurrentView('sections')}
                                                className="bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold text-base py-4 rounded-2xl hover:shadow-2xl transition-all"
                                            >
                                                üìö Wr√≥ƒá do nauki
                                            </button>
                                        </div>
                                    </div>
                                )}
                                <Footer />
                            </div>
                        </div>
                    </div>
                );
            };

            if (isLoading) {
                return (
                    <div className="min-h-screen flex items-center justify-center">
                        <div className="text-white text-xl">≈Åadowanie...</div>
                    </div>
                );
            }

            return (
                <div>
                    {toast && (
                        <Toast
                            message={toast.message}
                            type={toast.type}
                            onClose={() => setToast(null)}
                        />
                    )}
                    {showTermsPage ? (
                        <TermsPage />
                    ) : showPrivacyPage ? (
                        <PrivacyPage />
                    ) : (
                        <>
                            {currentView === 'home' && <HomePage />}
                            {currentView === 'sections' && <SectionsView />}
                            {currentView === 'quiz' && <QuizView />}
                            {showPremiumModal && <PremiumModal />}
                            {showAuthModal && <AuthModal />}
                        </>
                    )}
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
